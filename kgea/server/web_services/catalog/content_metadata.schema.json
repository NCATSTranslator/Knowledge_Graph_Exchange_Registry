{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/NCATSTranslator/Knowledge_Graph_Exchange_Registry/master/kgea/api/content_metadata.schema.json",
  "title": "KGX Content Metadata",
  "description": "Description of a node category for Knowledge Graph eXchange (KGX) knowledge graph content metadata",
  "type": "object",
  "properties": {
    "nodes": {
      "description": "Collection of node categories provided by this TRAPI web service, indexed by Biolink class CURIEs.",
      "type": "object",
      "patternProperties": {
          "^biolink:[A-Z][a-zA-Z]*$": {
              "$ref": "#/$defs/meta_node"
          }
      },
      "additionalProperties": false
    },
    "edges": {
      "description": "List of edges/predicates provided by this knowledge graph.",
      "type": "array",
      "items": {
        "$ref": "#/$defs/meta_edge"
      }
    }
  },
  "required": [ "nodes", "edges" ],
  "$defs": {
    "meta_node": {
      "type": "object",
      "properties": {
        "id_prefixes": {
          "type": "array",
          "description": "List of CURIE prefixes for the node category that this Knowledge Graph contains.",
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z_.]+$"
          },
          "minItems": 1
        },
        "count": {
          "type": "integer",
          "description": "Total number of node instances of this node category known to this knowledge graph, or -1 if the number is not known."
        },
        "count_by_source": {
          "type": "object",
          "description": "Number of node instances by their CURIE ID prefix source",
          "patternProperties": {
           "^[a-zA-Z_.]+$": {
                "type": "integer"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false,
      "required": [ "id_prefixes" ]
    },
    "meta_edge": {
      "type": "object",
      "description": "Edge in a meta knowledge map describing relationship between a subject Biolink class and an object Biolink class.",
      "properties": {
        "subject": {
          "$ref": "#/components/schemas/BiolinkEntity",
          "description": "Subject node category of this relationship edge."
        },
        "predicate": {
          "$ref": "#/components/schemas/BiolinkPredicate",
          "description":  "Biolink relationship between the subject and object categories."
        },
        "object": {
          "$ref": "#/components/schemas/BiolinkEntity",
          "description": "Object node category of this relationship edge."
        },
        "relations": {
          "type": "array",
          "description":  "Low-level relations from the underlying source.",
          "items": {
            "type": "string"
          }
        },
        "count": {
          "type": "integer",
          "description":  "Total number of edge instances of this (subject, predicate, object) triple known to this knowledge graph, or -1 if the number is not known."
        },
        "count_by_source": {
          "type": "object",
          "description": "Number of edge instances by their source.",
          "patternProperties": {
           "^[a-zA-Z_.]+$": {
                "type": "integer"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false,
      "required": [ "subject", "predicate", "object" ]
    }
  }
}